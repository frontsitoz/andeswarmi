<div class="min-h-screen w-full grid place-items-center bg-white px-4 login-fix">
  <div class="w-[300px] grid grid-rows-[auto_1fr_auto]">
    <form #form="ngForm" (ngSubmit)="onSubmit(form)" novalidate class="flex flex-col">
      <!-- TÍTULO -->
      <h2
        class="text-[22px] font-medium tracking-wide text-[var(--aw-brown)] text-center mb-[48px]"
      >
        Iniciar Sesión
      </h2>

      <!-- EMAIL -->
      <label for="email" class="text-[14px] font-bold text-[var(--aw-brown)] mb-2"> Email </label>

      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="email"
        #emailModel="ngModel"
        placeholder="Ingrese su email"
        required
        class="w-full h-[44px] rounded-[10px] bg-[var(--text-input-field)] px-4 text-[16px] outline-none border border-transparent placeholder:text-[#9a9a9a]"
        [class.border-[#f44336]]="emailModel.invalid && (emailModel.touched || submitted)"
        [class.shadow-[0_0_0_3px_rgba(244,67,54,0.06)]]="
          emailModel.invalid && (emailModel.touched || submitted)
        "
      />

      @if (emailModel.invalid && (emailModel.touched || submitted)) {
      <p class="text-[#b00020] text-[13px] mt-[6px]">
        @if (emailModel.errors?.['required']) { El email es obligatorio. } @if
        (emailModel.errors?.['email']) { Ingrese un email válido. }
      </p>
      }

      <!-- PASSWORD -->
      <label for="password" class="text-[14px] font-bold text-[var(--aw-brown)] mb-2 mt-[16px]">
        Password
      </label>

      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        #pwdModel="ngModel"
        placeholder="********"
        required
        class="w-full h-[44px] rounded-[10px] bg-[var(--text-input-field)] px-4 text-[16px] outline-none border border-transparent placeholder:text-[#9a9a9a]"
        [class.border-[#f44336]]="pwdModel.invalid && (pwdModel.touched || submitted)"
        [class.shadow-[0_0_0_3px_rgba(244,67,54,0.06)]]="
          pwdModel.invalid && (pwdModel.touched || submitted)
        "
      />

      @if (pwdModel.invalid && (pwdModel.touched || submitted)) {
      <p class="text-[#b00020] text-[13px] mt-[6px]">La contraseña es obligatoria.</p>
      }

      <!-- BOTÓN INICIAR SESIÓN -->
      <button
        type="submit"
        [disabled]="loading"
        class="mt-[22px] mb-[24px] w-full h-[54px] rounded-[10px] bg-[var(--aw-brown)] text-white font-bold text-[18px] disabled:bg-[#e9e9e9] disabled:text-[#9e9e9e] disabled:cursor-not-allowed btn-login"
      >
        Iniciar Sesión
      </button>

      <!-- ERROR GENERAL -->
      @if (loginError) {
      <p class="text-[#b00020] text-[13px] mt-[12px]" role="alert" aria-live="assertive">
        {{ loginError }}
      </p>
      }

      <!-- OLVIDÉ CONTRASEÑA -->
      <a
        routerLink="/password-recovery"
        class="mt-[18px] mb-[52px] text-center text-[16px] text-[#4a4a4a] no-underline hover:underline forgot"
      >
        Olvidé mi contraseña
      </a>
    </form>

    <button
      routerLink="/register"
      type="button"
      class="w-full h-[54px] bg-white border border-[#523b2b] text-[#523b2b] font-bold text-[18px] cursor-pointer btn-register"
    >
      Registrarse
    </button>
  </div>
</div>
